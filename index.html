<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hồ Sơ Cá Nhân</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #00d2ff 0%, #3a47d5 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
            position: relative;
        }

        .profile-image-container {
            position: relative;
            width: 180px;
            height: 180px;
            margin: 0 auto 20px;
        }

        .profile-image {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 5px solid white;
            object-fit: cover;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .upload-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: #00d2ff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .upload-btn:hover {
            background: #00b8e6;
            transform: scale(1.1);
        }

        #imageInput {
            display: none;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            border: 1px solid rgba(0, 210, 255, 0.2);
        }

        .section-title {
            color: #00d2ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #3a47d5;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .info-item {
            background: rgba(0, 210, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #00d2ff;
            border: 1px solid rgba(0, 210, 255, 0.2);
        }

        .info-label {
            font-weight: bold;
            color: #00d2ff;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .info-value {
            color: #e0e0e0;
            font-size: 1.1em;
            padding: 5px;
            border: 1px solid transparent;
            border-radius: 5px;
            cursor: text;
            transition: all 0.3s;
        }

        .info-value:hover {
            background: rgba(0, 210, 255, 0.1);
            border-color: #00d2ff;
        }

        .info-value:focus {
            outline: none;
            background: rgba(0, 210, 255, 0.15);
            border-color: #3a47d5;
            box-shadow: 0 0 0 3px rgba(58, 71, 213, 0.2);
        }

        .timeline-item {
            background: rgba(0, 210, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #00d2ff;
            border: 1px solid rgba(0, 210, 255, 0.2);
            position: relative;
        }

        .timeline-item:before {
            content: '';
            position: absolute;
            left: -8px;
            top: 25px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #00d2ff;
            border: 3px solid #1a1a2e;
            box-shadow: 0 0 10px rgba(0, 210, 255, 0.5);
        }

        .timeline-title {
            font-size: 1.3em;
            color: #00d2ff;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .timeline-period {
            color: #3a47d5;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .timeline-description {
            color: #e0e0e0;
            line-height: 1.6;
            padding: 5px;
            border-radius: 5px;
            cursor: text;
            transition: all 0.3s;
        }

        .timeline-description:hover {
            background: rgba(0, 210, 255, 0.1);
        }

        .timeline-description:focus {
            outline: none;
            background: rgba(0, 210, 255, 0.15);
            border: 1px solid #3a47d5;
        }

        .skill-item {
            background: rgba(0, 210, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #3a47d5;
            border: 1px solid rgba(58, 71, 213, 0.2);
        }

        .skill-name {
            font-size: 1.2em;
            color: #00d2ff;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .skill-description {
            color: #e0e0e0;
            line-height: 1.6;
        }

        .add-btn {
            background: linear-gradient(135deg, #00d2ff 0%, #3a47d5 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(0, 210, 255, 0.4);
            transition: all 0.3s;
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 210, 255, 0.6);
        }

        .research-item {
            background: rgba(0, 210, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #00b8e6;
            border: 1px solid rgba(0, 184, 230, 0.2);
        }

        .research-description {
            color: #e0e0e0;
            line-height: 1.8;
            padding: 10px;
            border-radius: 5px;
            cursor: text;
            transition: all 0.3s;
        }

        .research-description:hover {
            background: rgba(0, 210, 255, 0.1);
        }

        .research-description:focus {
            outline: none;
            background: rgba(0, 210, 255, 0.15);
            border: 1px solid #00d2ff;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }
            
            .section {
                padding: 20px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .mode-toggle-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #888 0%, #555 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .mode-toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }
        
        .mode-toggle-btn i {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <!-- Nút chuyển đổi chế độ -->
    <button class="mode-toggle-btn" id="modeToggleBtn" onclick="toggleEditMode()">
        <i class="fas fa-lock"></i> Chế độ Xem
    </button>

    <div class="container">
        <div class="header">
            <div class="profile-image-container">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Crect fill='%23ddd' width='180' height='180'/%3E%3Ctext fill='%23999' x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-size='40' font-family='Arial'%3EẢnh%3C/text%3E%3C/svg%3E" 
                     alt="Ảnh đại diện" 
                     class="profile-image" 
                     id="profileImage">
                <button class="upload-btn" onclick="document.getElementById('imageInput').click()">
                    <i class="fas fa-camera"></i>
                </button>
                <input type="file" id="imageInput" accept="image/*">
            </div>
            <h1 contenteditable="true" id="fullName">NGUYỄN VĂN A</h1>
            <p contenteditable="true" id="major">Kỹ Sư Phần Mềm</p>
        </div>

        <div class="content">
            <!-- Thông tin cá nhân -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-user"></i>
                    Thông Tin Cá Nhân
                </h2>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Họ và Tên</div>
                        <div class="info-value" contenteditable="true">Nguyễn Văn A</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Năm Sinh</div>
                        <div class="info-value" contenteditable="true">1995</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Chiều Cao</div>
                        <div class="info-value" contenteditable="true">170 cm</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Cân Nặng</div>
                        <div class="info-value" contenteditable="true">65 kg</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Số Điện Thoại</div>
                        <div class="info-value" contenteditable="true">0123 456 789</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Email</div>
                        <div class="info-value" contenteditable="true">nguyenvana@email.com</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Chuyên Ngành</div>
                        <div class="info-value" contenteditable="true">Công Nghệ Thông Tin</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Quê Quán</div>
                        <div class="info-value" contenteditable="true">Hà Nội, Việt Nam</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Ngày Kết Nạp Đảng</div>
                        <div class="info-value" contenteditable="true">01/01/2020</div>
                    </div>
                </div>
            </div>

            <!-- Quá trình học tập -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-graduation-cap"></i>
                    Quá Trình Học Tập
                </h2>
                <div id="educationContainer">
                    <div class="timeline-item">
                        <div class="timeline-title" contenteditable="true">Đại Học Bách Khoa Hà Nội</div>
                        <div class="timeline-period" contenteditable="true">09/2013 - 06/2017</div>
                        <div class="info-label">GPA</div>
                        <div class="timeline-description" contenteditable="true">3.5/4.0</div>
                        <div class="info-label">Luận Văn</div>
                        <div class="timeline-description" contenteditable="true">Xây dựng hệ thống quản lý học tập trực tuyến sử dụng công nghệ AI</div>
                    </div>
                </div>
                <button class="add-btn" onclick="addEducation()">
                    <i class="fas fa-plus"></i> Thêm Học Vấn
                </button>
            </div>

            <!-- Quá trình làm việc -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-briefcase"></i>
                    Quá Trình Làm Việc
                </h2>
                <div id="workContainer">
                    <div class="timeline-item">
                        <div class="timeline-title" contenteditable="true">Công Ty TNHH ABC</div>
                        <div class="timeline-period" contenteditable="true">07/2017 - Hiện tại</div>
                        <div class="info-label">Mô Tả Công Việc</div>
                        <div class="timeline-description" contenteditable="true">Phát triển và bảo trì các ứng dụng web. Làm việc với đội ngũ để thiết kế và triển khai các tính năng mới. Tham gia vào quá trình code review và tối ưu hóa hiệu suất.</div>
                    </div>
                </div>
                <button class="add-btn" onclick="addWork()">
                    <i class="fas fa-plus"></i> Thêm Kinh Nghiệm
                </button>
            </div>

            <!-- Kỹ năng -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-code"></i>
                    Kỹ Năng
                </h2>
                <div id="skillsContainer">
                    <div class="skill-item">
                        <div class="skill-name" contenteditable="true">Lập Trình Web</div>
                        <div class="skill-description" contenteditable="true">Thành thạo HTML, CSS, JavaScript, React, Node.js. Có kinh nghiệm xây dựng các ứng dụng web responsive và hiệu suất cao.</div>
                    </div>
                    <div class="skill-item">
                        <div class="skill-name" contenteditable="true">Quản Lý Dự Án</div>
                        <div class="skill-description" contenteditable="true">Sử dụng thành thạo Agile, Scrum. Có khả năng lãnh đạo đội nhóm và phối hợp công việc hiệu quả.</div>
                    </div>
                </div>
                <button class="add-btn" onclick="addSkill()">
                    <i class="fas fa-plus"></i> Thêm Kỹ Năng
                </button>
            </div>

            <!-- Công trình nghiên cứu -->
            <div class="section">
                <h2 class="section-title">
                    <i class="fas fa-flask"></i>
                    Công Trình Nghiên Cứu
                </h2>
                <div id="researchContainer">
                    <div class="research-item">
                        <div class="research-description" contenteditable="true">Nghiên cứu về ứng dụng Machine Learning trong việc phân tích dữ liệu lớn. Đã công bố bài báo tại hội nghị quốc tế ICSE 2023. Kết quả nghiên cứu đã được áp dụng vào thực tế tại nhiều doanh nghiệp.</div>
                    </div>
                </div>
                <button class="add-btn" onclick="addResearch()">
                    <i class="fas fa-plus"></i> Thêm Công Trình
                </button>
            </div>
        </div>
    </div>

    <script>
        // ============== HỆ THỐNG ĐĂNG NHẬP & PHÂN QUYỀN ==============
        
        // Mật khẩu của bạn (Đổi mật khẩu này!)
        const ADMIN_PASSWORD = "matkhaucuaban123";
        
        let isEditMode = false;
        
        // Kiểm tra chế độ khi tải trang
        window.addEventListener('DOMContentLoaded', function() {
            const savedMode = localStorage.getItem('editMode');
            if (savedMode === 'true') {
                isEditMode = true;
                enableEditMode();
            } else {
                disableEditMode();
            }
            updateModeButton();
            
            // Tải ảnh đã lưu
            const savedImage = localStorage.getItem('profileImage');
            if (savedImage) {
                document.getElementById('profileImage').src = savedImage;
            }
        });
        
        // Hàm đăng nhập/đăng xuất
        function toggleEditMode() {
            if (!isEditMode) {
                // Yêu cầu mật khẩu để vào chế độ chỉnh sửa
                const password = prompt("Nhập mật khẩu để chỉnh sửa:");
                if (password === ADMIN_PASSWORD) {
                    isEditMode = true;
                    localStorage.setItem('editMode', 'true');
                    enableEditMode();
                    alert("✅ Đã bật chế độ chỉnh sửa!");
                } else if (password !== null) {
                    alert("❌ Mật khẩu sai!");
                }
            } else {
                // Thoát chế độ chỉnh sửa
                isEditMode = false;
                localStorage.setItem('editMode', 'false');
                disableEditMode();
                alert("✅ Đã thoát chế độ chỉnh sửa!");
            }
            updateModeButton();
        }
        
        // Bật chế độ chỉnh sửa
        function enableEditMode() {
            document.querySelectorAll('[contenteditable]').forEach(el => {
                el.setAttribute('contenteditable', 'true');
                el.style.cursor = 'text';
            });
            document.querySelectorAll('.add-btn').forEach(btn => {
                btn.style.display = 'inline-block';
            });
            const uploadBtn = document.querySelector('.upload-btn');
            if (uploadBtn) uploadBtn.style.display = 'block';
        }
        
        // Tắt chế độ chỉnh sửa
        function disableEditMode() {
            document.querySelectorAll('[contenteditable]').forEach(el => {
                el.setAttribute('contenteditable', 'false');
                el.style.cursor = 'default';
            });
            document.querySelectorAll('.add-btn').forEach(btn => {
                btn.style.display = 'none';
            });
            const uploadBtn = document.querySelector('.upload-btn');
            if (uploadBtn) uploadBtn.style.display = 'none';
        }
        
        // Cập nhật nút chuyển đổi chế độ
        function updateModeButton() {
            const btn = document.getElementById('modeToggleBtn');
            if (!btn) return; // Kiểm tra nếu nút chưa load
            
            if (isEditMode) {
                btn.innerHTML = '<i class="fas fa-lock-open"></i> Chế độ Chỉnh sửa';
                btn.style.background = 'linear-gradient(135deg, #00d2ff 0%, #3a47d5 100%)';
            } else {
                btn.innerHTML = '<i class="fas fa-lock"></i> Chế độ Xem';
                btn.style.background = 'linear-gradient(135deg, #888 0%, #555 100%)';
            }
        }

        // ============== CÁC CHỨC NĂNG CHỈNH SỬA ==============
        
        // Upload ảnh
        document.addEventListener('DOMContentLoaded', function() {
            const imageInput = document.getElementById('imageInput');
            if (imageInput) {
                imageInput.addEventListener('change', function(e) {
                    if (!isEditMode) return;
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const profileImage = document.getElementById('profileImage');
                            if (profileImage) {
                                profileImage.src = e.target.result;
                                localStorage.setItem('profileImage', e.target.result);
                            }
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }
        });

        // Thêm học vấn
        function addEducation() {
            if (!isEditMode) return;
            const container = document.getElementById('educationContainer');
            const newItem = document.createElement('div');
            newItem.className = 'timeline-item';
            newItem.innerHTML = `
                <div class="timeline-title" contenteditable="true">Tên Trường</div>
                <div class="timeline-period" contenteditable="true">MM/YYYY - MM/YYYY</div>
                <div class="info-label">GPA</div>
                <div class="timeline-description" contenteditable="true">0.0/4.0</div>
                <div class="info-label">Luận Văn</div>
                <div class="timeline-description" contenteditable="true">Mô tả luận văn...</div>
            `;
            container.appendChild(newItem);
        }

        // Thêm kinh nghiệm làm việc
        function addWork() {
            if (!isEditMode) return;
            const container = document.getElementById('workContainer');
            const newItem = document.createElement('div');
            newItem.className = 'timeline-item';
            newItem.innerHTML = `
                <div class="timeline-title" contenteditable="true">Tên Công Ty</div>
                <div class="timeline-period" contenteditable="true">MM/YYYY - MM/YYYY</div>
                <div class="info-label">Mô Tả Công Việc</div>
                <div class="timeline-description" contenteditable="true">Mô tả công việc phụ trách...</div>
            `;
            container.appendChild(newItem);
        }

        // Thêm kỹ năng
        function addSkill() {
            if (!isEditMode) return;
            const container = document.getElementById('skillsContainer');
            const newItem = document.createElement('div');
            newItem.className = 'skill-item';
            newItem.innerHTML = `
                <div class="skill-name" contenteditable="true">Tên Kỹ Năng</div>
                <div class="skill-description" contenteditable="true">Mô tả kỹ năng...</div>
            `;
            container.appendChild(newItem);
        }

        // Thêm công trình nghiên cứu
        function addResearch() {
            if (!isEditMode) return;
            const container = document.getElementById('researchContainer');
            const newItem = document.createElement('div');
            newItem.className = 'research-item';
            newItem.innerHTML = `
                <div class="research-description" contenteditable="true">Mô tả công trình nghiên cứu...</div>
            `;
            container.appendChild(newItem);
        }
    </script>
</body>
</html>
